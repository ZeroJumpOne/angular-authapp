import{A as m,C as v,D as S,E as A,G as C,M as y,N as M,P as x,S as N,T as b,U as j,V as k,W as n,Y as p,Z as r,_ as u,l as c,n as i,o as d,p as h,v as l,z as g}from"./chunk-K5XMRWQB.js";var w=(e,t)=>{let s=i(u),a=i(n);if(s.authStatus()===r.authenticated)return!0;if(s.authStatus()===r.checking)return!1;a.navigateByUrl("/auth/login");let o=t.url;return!1};var B=(e,t)=>{let s=i(u),a=i(n);return s.authStatus()===r.authenticated?(a.navigateByUrl("/dashboard"),!1):!0};var T=[{path:"auth",loadChildren:()=>import("./chunk-JV7BDHC2.js").then(e=>e.AuthModule),canActivate:[B]},{path:"dashboard",loadChildren:()=>import("./chunk-LSHKN7ED.js").then(e=>e.DashboardModule),canActivate:[w]},{path:"**",redirectTo:"auth"}],R=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=h({type:t}),t.\u0275inj=c({imports:[p.forRoot(T),p]});let e=t;return e})();function U(e,t){e&1&&(v(0,"h1"),C(1,"Loading..."),S())}function D(e,t){e&1&&A(0,"router-outlet")}var _=(()=>{let t=class t{constructor(){this.title="authApp",this.authService=i(u),this.router=i(n),this.finishedAuthCheck=y(()=>this.authService.authStatus()!==r.checking),this.authStatusChangeEffect=M(()=>{switch(this.authService.authStatus()){case r.checking:return;case r.authenticated:this.router.navigateByUrl("/dashboard");return;case r.notAuthenticated:this.router.navigateByUrl("/auth/login");return}console.log("authStatus:",this.authService.authStatus())})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=d({type:t,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(o,f){o&1&&g(0,U,2,0,"h1",0)(1,D,1,0,"router-outlet",0),o&2&&(m("ngIf",!f.finishedAuthCheck()),l(),m("ngIf",f.finishedAuthCheck()))},dependencies:[x,k]});let e=t;return e})();var G=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=h({type:t,bootstrap:[_]}),t.\u0275inj=c({imports:[j,R,N]});let e=t;return e})();b().bootstrapModule(G,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
